<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>FiberMind.AI</title>

  <!-- League Spartan font (site-wide) -->
  <link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@400;700&display=swap" rel="stylesheet" />

  <style>
    /* Optional: Palantir "Hero" font placeholder.
       Put your licensed file at assets/hero.woff2 or update the URL below.
       If not present, the button text will fall back to League Spartan. */
    @font-face{
      font-family: "PalantirHero";
      src: url("assets/hero.woff2") format("woff2");
      font-weight: 400;
      font-style: normal;
      font-display: swap;
    }

    :root{
      --bg:#03093c;     /* site background */
      --fg:#ffffff;     /* site text color */
      --btn-bg:#ffffff; /* button background (white) */
      --btn-fg:#03093c; /* button text */
      --pulse-core:#ff2a2a;
      --pulse-soft:#ff8a8a;
    }

    *{box-sizing:border-box}
    html,body{
      height:100%;
      margin:0;
      background:var(--bg);
      color:var(--fg);
      font-family:"League Spartan",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      overflow:hidden;
    }

    .wrap{
      min-height:100%;
      display:grid;
      place-items:center;
      padding:24px;
      text-align:center;
    }

    /* Globe GIF above the hero */
    .globe-wrap{ display:grid; place-items:center; margin:0 0 18px 0; }
    .hero-globe{
      width:min(42vmin, 300px);
      height:auto;
      display:block;
      border-radius:50%;
      box-shadow:0 10px 22px rgba(0,0,0,.35);
    }

    h1{
      font-size:48px;
      font-weight:700;
      line-height:1.1;
      margin:0 0 20px 0;
      letter-spacing:.2px;
      color:var(--fg);
    }

    .lines{
      font-size:20px;
      font-weight:400;
      line-height:1.4;
      letter-spacing:.2px;
      display:grid;
      gap:8px;
      margin-bottom:22px;
      color:var(--fg);
    }

    .hint{ margin-top:18px; font-size:14px; opacity:.75; letter-spacing:.3px; color:var(--fg); }

    .reveal{ animation: glow 800ms ease-out both; }
    @keyframes glow{
      0%{ text-shadow:0 0 0 rgba(255,255,255,0); }
      50%{ text-shadow:0 0 10px rgba(255,255,255,.25); }
      100%{ text-shadow:0 0 0 rgba(255,255,255,0); }
    }

    /* Minimal white CTA */
    .cta{
        height: auto;                /* shrink to fit content */
        padding: 5px 9px;          /* tighter top/bottom + left/right                             */
        border-radius: 8px;          /* slightly smaller rounded                                   corners */
        display:inline-grid;
        place-items:center;
        text-decoration:none;
        position:relative;
        isolation:isolate;
        user-select:none;
        cursor:pointer;
        background: var(--btn-bg);
        color: var(--btn-fg);
        box-shadow:
            0 6px 16px rgba(0,0,0,0.25),
            inset 0 1px 0 rgba(255,255,255,0.85);
        transition: transform .05s ease, box-shadow .2s ease, filter .2s ease;
        }   
    .cta:hover{ filter:saturate(1.02) brightness(1.02); }
    .cta:active{ transform: translateY(1px); }

    /* Button label: use PalantirHero if available, else fallback */
    .btn-label{
      position:relative;
      display:inline-flex;
      gap:0.06em;          /* clean spacing between letters */
      align-items:center;
      line-height:1.2;
      font-size:22px;      /* slightly smaller for minimalism */
      font-weight:400;     /* not bold */
      letter-spacing:0.04em;
      color:var(--btn-fg);
      white-space:nowrap;
      font-family:"PalantirHero","League Spartan",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    }

    /* Per-letter host for CTA animation */
    .svg-letter{ width:0.62em; height:1.15em; display:inline-block; position:relative; }
    .svg-letter svg{ display:block; width:100%; height:100%; overflow:visible; }

    /* Base letter inherits currentColor (button text color) */
    .glyph{ fill:currentColor; stroke:currentColor; stroke-width:0; paint-order:stroke fill; }

    /* Fiber-like pulse inside each letter (red) */
    .fiber-path{
      fill:none; stroke: var(--pulse-core);
      stroke-width: 2.0; stroke-linecap: round; stroke-linejoin: round;
      filter: drop-shadow(0 0 4px rgba(255,42,42,0.45))
              drop-shadow(0 0 7px rgba(255,138,138,0.30));
      stroke-opacity: 0.36;
      animation: dashCycle linear var(--dur, 0.8s) infinite;
      animation-delay: var(--delay, 0s);
    }
    @keyframes dashCycle{ from{stroke-dashoffset:var(--start,0)} to{stroke-dashoffset:0} }
  </style>
</head>
<body>
  <main class="wrap">
    <section aria-labelledby="site-title">

      <!-- Globe GIF -->
      <div class="globe-wrap">
        <!-- Put your file at /assets/globe.gif -->
        <img class="hero-globe" src="assets/globe.gif" alt="Spinning Earth" />
      </div>

      <h1 id="site-title" class="decrypt" data-final="FiberMind.AI"></h1>

      <div class="lines" aria-live="polite">
        <p class="decrypt" data-final="We’re Currently Busy Building"></p>
        <p class="decrypt" data-final="The First Foundational AI For Fiber Sensing"></p>
      </div>

      <a class="cta" href="contact.html" aria-label="Get in touch via contact form">
        <span class="btn-label" id="ctaLabel">Get In Touch</span>
      </a>

      <p class="hint" aria-hidden="true">© FiberMind.AI</p>
    </section>
  </main>

  <script>
    // ====================== DECRYPT TEXT ======================
    (function () {
      const charset="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()[]{}<>?/\\|~";
      const lines=[...document.querySelectorAll(".decrypt")];
      const stepDelay=70, perCharSteps=12;

      function scrambleTo(el, finalText){
        const len=finalText.length; let frame=0;
        return new Promise((resolve)=>{
          const timer=setInterval(()=>{
            const progress=frame/perCharSteps;
            const cutoff=Math.floor(progress*len);
            el.textContent=[...finalText].map((ch,i)=> i<=cutoff ? finalText[i] : (ch===" "?" ":"".padEnd(1,charset[Math.floor(Math.random()*charset.length)]))).join("");
            frame++;
            if(frame>perCharSteps){ el.textContent=finalText; el.classList.add("reveal"); clearInterval(timer); resolve(); }
          },stepDelay);
        });
      }
      (async function runTogether(){
        lines.forEach(el=>{
          const t=el.getAttribute("data-final")||"";
          el.textContent=[...t].map(ch=> ch===" " ? " " : charset[Math.floor(Math.random()*charset.length)]).join("");
        });
        await Promise.all(lines.map(el=>scrambleTo(el,el.getAttribute("data-final")||"")));
      })();
    })();

    // ======== CTA BUTTON LETTER-FIBERS (SVG) — AUTO LOOP ========
    (async function(){
      if (document.fonts && document.fonts.ready) { try { await document.fonts.ready; } catch(e){} }
      const labelEl = document.getElementById('ctaLabel');
      const text = labelEl.textContent;
      labelEl.textContent = '';

      const FONT_FAMILY = '"PalantirHero","League Spartan",system-ui,-apple-system, Segoe UI, Roboto, Helvetica, Arial';
      const VIEW_W = 100, VIEW_H = 130;
      const FONT_SIZE = 110;
      const Y_BASE = 98;

      const PULSE_DURATION = 0.8;  // seconds per letter
      const STAGGER = 0.10;        // delay between letters
      const DASH_WIN = 18;         // visible dash length

      function buildLetterSVG(ch, index){
        if (ch === ' ') {
          const spacer = document.createElement('span');
          spacer.className = 'svg-letter';
          spacer.style.width = '0.42em';
          return spacer;
        }
        const host = document.createElement('span');
        host.className = 'svg-letter';

        const svgNS = 'http://www.w3.org/2000/svg';
        const svg = document.createElementNS(svgNS,'svg');
        svg.setAttribute('viewBox', `0 0 ${VIEW_W} ${VIEW_H}`);
        svg.setAttribute('aria-hidden','true');

        const defs = document.createElementNS(svgNS,'defs');
        const id = `g${index}-${Math.random().toString(36).slice(2,7)}`;
        const clipId = `clip-${id}`;

        const glyphText = document.createElementNS(svgNS,'text');
        glyphText.setAttribute('x', String(VIEW_W/2));
        glyphText.setAttribute('y', String(Y_BASE));
        glyphText.setAttribute('text-anchor','middle');
        glyphText.setAttribute('font-family', FONT_FAMILY);
        glyphText.setAttribute('font-size', String(FONT_SIZE));
        glyphText.setAttribute('font-weight','400');  /* minimal, not bold */
        glyphText.textContent = ch;

        const clip = document.createElementNS(svgNS,'clipPath');
        clip.setAttribute('id', clipId);
        clip.appendChild(glyphText.cloneNode(true));
        defs.appendChild(clip);

        const midX = VIEW_W/2;
        const top = -20, bottom = VIEW_H + 20, amp = 10;
        const path = document.createElementNS(svgNS,'path');
        path.setAttribute('d',
          `M ${midX},${top}
           C ${midX-amp},${VIEW_H*0.15} ${midX+amp},${VIEW_H*0.35} ${midX},${VIEW_H*0.50}
           C ${midX-amp},${VIEW_H*0.65} ${midX+amp},${VIEW_H*0.85} ${midX},${bottom}`
        );
        path.setAttribute('class','fiber-path');
        path.setAttribute('clip-path', `url(#${clipId})`);
        path.style.strokeDasharray = '0 1';
        path.style.strokeDashoffset = '0';

        svg.appendChild(defs);

        const glyph = glyphText.cloneNode(true);
        glyph.setAttribute('class','glyph');
        svg.appendChild(glyph);
        svg.appendChild(path);

        host.appendChild(svg);

        requestAnimationFrame(()=>{
          const L = path.getTotalLength();
          const dash = Math.max(8, Math.min(L*0.18, DASH_WIN));
          path.style.strokeDasharray = `${dash} ${Math.max(1,L)}`;
          path.style.setProperty('--start', `${L + dash}`);
          path.style.setProperty('--dur', `${PULSE_DURATION}s`);
          path.style.setProperty('--delay', `${index * STAGGER}s`);
        });

        return host;
      }

      const frag = document.createDocumentFragment();
      [...text].forEach((ch, i) => frag.appendChild(buildLetterSVG(ch, i)));
      labelEl.appendChild(frag);
    })();
  </script>
</body>
</html>
